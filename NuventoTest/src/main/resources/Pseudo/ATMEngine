object ATMEngine

    Collection Accounts[]
    Collection Users[]
    Users currentUser = -1
    AccountSaving currentAccountSaving
    AccountCheque currentChequeAccount

    VOID FUNCTION intialiseATM
        loads data
        Users initilised
        Accounts Initlised

    void FUNCTION userLogin(userInput)
        FOR every user in users:
            IF (user.getUserID == userInput)
                currentUser = user

        IF currentUser.getUserID == -1
            ATMDisplay.displayError
            ATMDisplay.displayLogin
        ELSE
            ATMDisplay.displayMenu(Users[currentUser].getUserName)-----------
            FOR every savingAccount in savingAccounts:
                IF (currentUser.getUserID == savingAccount.getOwnerID)
                    currentAccountSaving = savingAccount

            FOR every chequeAccount in chequeAccounts:
                IF (currentUser.getUserID == savingAccount.getOwnerID)
                    currentChequeAccount = chequeAccount

   ???? void FUNCTION mainMenu(userOptionInput)
        CASE userOption of
            1: ATMDisplay.displayDeposit()
            2: withdrawMoney()
            3: checkBalance()
            4: quitApp()???


   VOID FUNCTION depositMoney PARAM (INT userDepositInput, userSelectedAccount)
        IF userSelectedAccount == 1 THEN
            currentChequeAccount.balance += userDepositInput
        ELSEIF == 2 THEN
           currentSavingAccount.balance += userDepositInput
        ELSE
            ERROR


   INT FUNCTION getAccTypeBalance PARAM(FLOAT userSelectedAccount)
        FLOAT balanceReturned
        IF userSelectedAccount == 1 THEN
            balanceReturned = currentChequeAccount.balance
        ELSE
            balanceReturned = currentSavingAccount.balance

        return balanceReturned


   VOID FUNCTION withdrawMoney PARAM (INT userWithdrawInput, INT userSelectedAccount)
        INT currentBalance = getAccTypeBalance(userSelectedAccount)

        IF  currentBalance is greater than or equal to userWithdrawInput THEN
            IF userSelectedAccount == 1 THEN
                    currentChequeAccount.balance -= userWithdrawInput
            ELSEIF == 2  THEN
                    currentSavingAccount.balance -= userWithdrawInput
        ELSE
            ERROR NOT ENUFF MONEIZ

   TUPLE FUNCTION checkBalance
        return currentChequeAccount.balance, currentSavingAccount.balance

    updateData
    quitApp
        Save to file